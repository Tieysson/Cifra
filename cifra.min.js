class CifraCollection extends Array{ready(e){let t=this.some(e=>null!=e.readyState&&"loading"!=e.readyState);return t?e():this.on("DOMContentLoaded",e),this}on(e,t,r){return"function"==typeof t?this.forEach(r=>r.addEventListener(e,t)):this.forEach(i=>{i.addEventListener(e,e=>{e.target.matches(t)&&r(e)})}),this}trigger(e,t=!0,r=!1){return r?this.forEach(i=>{i.target.matches(r)&&i.dispatchEvent(new Event(e,{bubbles:t}))}):this.forEach(r=>r.dispatchEvent(new Event(e,{bubbles:t}))),this}next(e=null){return this.map(e=>e.nextElementSibling).filter(t=>null!=t&&(null==e||t.matches(e)))}prev(e=null){return this.map(e=>e.previousElementSibling).filter(t=>null!=t&&(null==e||t.matches(e)))}after(e=null){return this.flatMap(t=>{let r=[],i=t.nextElementSibling;for(;i;)(null==e||i.matches(e))&&r.push(i),i=i.nextElementSibling;return r})}before(e=null){return this.flatMap(t=>{let r=[],i=t.previousElementSibling;for(;i;)(null==e||i.matches(e))&&r.push(i),i=i.previousElementSibling;return r}).reverse()}parent(e=null){return this.map(e=>e.parentElement).filter(t=>null!=t&&(null==e||t.matches(e)))}query(e){let t=[];return this.forEach(r=>{t=t.concat(Array.from(r.querySelectorAll(e)))}),new CifraCollection(...t)}removeClass(e){return this.forEach(t=>t.classList.remove(e)),this}addClass(e){return this.forEach(t=>t.classList.add(e)),this}toggleClass(e){return this.forEach(t=>t.classList.toggle(e)),this}attr(e,t){return this.forEach(r=>r.setAttribute(e,t)),this}html(e){return this.forEach(t=>t.innerHTML=e),this}text(e){return this.forEach(t=>t.textContent=e),this}css(e,t){return this.forEach(r=>r.style[e]=t),this}append(e){return this.forEach(t=>{"string"==typeof e?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)}),this}prepend(e){return this.forEach(t=>{"string"==typeof e?t.insertAdjacentHTML("afterbegin",e):t.insertBefore(e,t.firstChild)}),this}insertAfter(e){return this.forEach(t=>{"string"==typeof e?t.insertAdjacentHTML("afterend",e):t.parentNode.insertBefore(e,t.nextSibling)}),this}insertBefore(e){return this.forEach(t=>{"string"==typeof e?t.insertAdjacentHTML("beforebegin",e):t.parentNode.insertBefore(e,t)}),this}remove(){return this.forEach(e=>{e.parentElement.removeChild(e)}),this}hide(){return this.forEach(e=>{e.style.display="none"}),this}show(){return this.forEach(e=>{e.style.display=""}),this}toggle(){return this.forEach(e=>{"none"==e.style.display?e.style.display="":e.style.display="none"}),this}}const $=(e=document.body)=>"string"==typeof e?new CifraCollection(...document.querySelectorAll(e)):new CifraCollection(e);$.observe=function(e,t,r){let i=new MutationObserver(e=>{for(let i of e)"childList"===i.type&&i.addedNodes.length>0&&i.addedNodes.forEach(e=>{t(e)&&r(e)})});return i.observe(e,{childList:!0,subtree:!0}),i},$.copy_fallback=function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var r=document.execCommand("copy");console.log("Fallback: Copying text command was "+(r?"successful":"unsuccessful"))}catch(i){console.error("Fallback: Oops, unable to copy",i)}document.body.removeChild(t)},$.copy=function(e){if(!navigator.clipboard){$.copy_fallback(e);return}navigator.clipboard.writeText(e).then(console.log,e=>{console.error("Error: Could not copy text: ",e)})},$.addStyle=function(e){let t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.head.appendChild(t)},$.create=function(e,t={}){let{attributes:r={},events:i={},innerHTML:n="",children:a=[]}=t,o=/^(?<tag>[a-z]+)(?<id>#\w+)?(?<classes>(\.\w+)*)$/i.exec(e);if(!o)throw Error("Invalid tag format");let{tag:s,id:l,classes:f}=o.groups,d=document.createElement(s);for(let[c,h]of(l&&(d.id=l.slice(1)),f&&(d.className=f.split(".").filter(e=>e).join(" ")),Object.entries(r)))d.setAttribute(c,h);for(let[u,p]of Object.entries(i))d.addEventListener(u,p);for(let b of(d.innerHTML=n,a))$(d).append(b);return d},$.empty=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},$.clone=function(e){return e.cloneNode(!0)},$.attr=function(e,t,r){if(void 0===r)return e.getAttribute(t);e.setAttribute(t,r)},$.prop=function(e,t,r){if(void 0===r)return e[t];e[t]=r},$.dataset=function(e,t,r){if(void 0===r)return e.dataset[t];e.dataset[t]=r},$.notify=function(e,t="default"){let r=$.create("div",{attributes:{class:"CifraNotification show"},innerHTML:e});r.classList.add({default:"CifraDefault",success:"CifraSuccess",danger:"CifraDanger",warning:"CifraWarning",info:"CifraInfo"}[t]),setTimeout(e=>{$(e).addClass("hide"),setTimeout(e=>{$(e).remove(e)},250,e)},2e3,r),$("#CifraNotificationContainer").append(r)},$.bind=function(e,t){document.addEventListener("keyup",function(r){"INPUT"!==r.target.tagName&&"TEXTAREA"!==r.target.tagName&&!r.target.isContentEditable&&r.key.toLowerCase()===e.toLowerCase()&&(r.preventDefault(),t())})},$.storage={get(e,t=null){let r;return localStorage.getItem(e)||t},set:(e,t)=>localStorage.setItem(e,t),remove:e=>localStorage.removeItem(e),clear:()=>localStorage.clear()},$.download=function(e,t,r="text/plain"){let i=new Blob([t],{type:r+"charset=utf-8"}),n=URL.createObjectURL(i),a=$.create("a",{attributes:{href:n,download:e}});$(a).css("display","none"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)},document.addEventListener("DOMContentLoaded",()=>{$.addStyle("#CifraNotificationContainer{position:fixed;top:20px;right:20px;display:flex;flex-direction:column;align-items:end}.CifraNotification{min-width:150px;width:fit-content;padding:10px 20px;display:flex;align-items:center;z-index:999999;margin-bottom:10px;color:#000;border:1px solid #44444444;border-right:5px solid #444;border-radius:5px;box-shadow:0 2px 3px rgba(0,0,0,.5);font-family:Arial,sans-serif}.CifraNotification.CifraSuccess{border-right:5px solid #3bc574;background-color:#d3f2e0}.CifraNotification.CifraDanger{border-right:5px solid #be253a;background-color:#f2d3d8}.CifraNotification.CifraWarning{border-right:5px solid #ffc500;background-color:#fff3cc}.CifraNotification.CifraInfo{border-right:5px solid #257bbe;background-color:#d3e5f2}@keyframes slideIn{from{opacity:0;transform:translateX(100%)}to{opacity:1;transform:translateX(0)}}@keyframes slideOut{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(100%)}}.CifraNotification.show{animation:.5s forwards slideIn}.CifraNotification.hide{animation:.25s forwards slideOut}"),$(document.body).append($.create("div",{attributes:{id:"CifraNotificationContainer"}}))});